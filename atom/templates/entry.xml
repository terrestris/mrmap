{% load i18n %}
<entry>
    {% if is_service_feed %}
    {% if entry.dataset_for.service.service_type.name == 'wms' %}
    <title>{% trans 'INSPIRE Download Dataset Feed: ' %}{% if entry.is_group_layer %}{% trans 'Grouplayer '%}{% else %}{% trans 'Layer '%}{% endif %}{{entry.dataset_for.title}} - {% trans 'generated from' %} WMS {% trans 'datasource.' %}</title>
    {% elif entry.dataset_for.service.service_type.name == 'wfs'%}
    <title>{% trans 'INSPIRE Download Dataset Feed: ' %}% trans 'Featuretype '%}{{entry.dataset_for.title}} - {% trans 'generated from' %} WFS {% trans 'datasource.' %}</title>
    {% endif %}
    <inspire_dls:spatial_dataset_identifier_code>{{entry.dataset.spatial_dataset_identifier_code}}</inspire_dls:spatial_dataset_identifier_code>
    <inspire_dls:spatial_dataset_identifier_namespace>{{entry.dataset.spatial_dataset_identifier_namespace}}</inspire_dls:spatial_dataset_identifier_namespace>
    <link href="{{ROOT_URL}}{% url 'atom:get-dataset-feed-metadata' entry.dataset_for.id %}?spatial_dataset_identifier_code={{entry.dataset.spatial_dataset_identifier_code}}&amp;spatial_dataset_identifier_namespace={{entry.dataset.spatial_dataset_identifier_namespace}}" rel="describedby" type="application/xml"/>
    <link href="{{ROOT_URL}}{% url 'atom:get-dataset-feed' entry.dataset_for.id %}?spatial_dataset_identifier_code={{entry.dataset.spatial_dataset_identifier_code}}&amp;spatial_dataset_identifier_namespace={{entry.dataset.spatial_dataset_identifier_namespace}}" rel="alternate" type="application/atom+xml"/>
    {% else%}
    {% if entry.dataset_for.service.service_type.name == 'wms' %}
    <title>{% if entry.is_group_layer %}{% trans 'Grouplayer '%}{% else %}{% trans 'Layer '%}{% endif %}{{entry.dataset_for.title}} - {% trans 'generated from' %} WMS {% trans 'datasource in the crs ' %}{{entry.crs_list.0.prefix}}{{entry.crs_list.0.code}}{% trans ' and format ' %}{{entry.format}}</title>
    {% elif entry.dataset_for.service.service_type.name == 'wfs'%}
    <title>{% trans 'Featuretype '%}{{entry.dataset_for.title}} - {% trans 'generated from' %} WFS {% trans 'datasource in the crs ' %}{{entry.crs_list.0.prefix}}{{entry.crs_list.0.code}}{% trans ' and format ' %}{{entry.format}}</title>
    {% endif %}
    {% if entry.download_links|length > 1 %}
    <content>{% trans 'Dataset is partitioned in' %} {{entry.download_links|length}} {% trans 'pieces.' %}</content>
    {% endif %}
    {% for link in entry.download_links %}
    {% autoescape off %}
    <link rel="{% if entry.download_links|length > 1 %}section{% else %}alternate{% endif %}" href="{{link.href}}" type="{{link.type}}" hreflang="{{link.language}}" title="{{entry.dataset.title}}{% trans 'datasource in the crs ' %}{{entry.crs_list.0.prefix}}{{entry.crs_list.0.code}}{% trans ' and format ' %}{{entry.format}} {% trans 'part' %} {{ forloop.counter }} {% trans 'of' %} {{entry.download_links|length}}" bbox="{{link.bbox}}"/>
    {% endautoescape %}
    {% endfor %}
    {% endif %}

    <id>{{ROOT_URL}}{% url 'atom:get-dataset-feed' entry.dataset_for.id %}?spatial_dataset_identifier_code={{entry.dataset.spatial_dataset_identifier_code}}&amp;spatial_dataset_identifier_namespace={{entry.dataset.spatial_dataset_identifier_namespace}}</id>

    <rights>{{entry.dataset.access_constraints}}</rights>
    <updated>{{entry.dataset.last_modified}}</updated>
    <georss:polygon>{% if not is_service_feed %}{{ entry.polygon }}{% else %}{{ entry.dataset.bounding_geometry.convex_hull.coords.0.0.1 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.0.0 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.1.1 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.1.0 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.2.1 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.2.0 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.3.1 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.3.0 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.4.1 }} {{ entry.dataset.bounding_geometry.convex_hull.coords.0.4.0 }}{% endif %}</georss:polygon>
    {% for crs in entry.crs_list %}
    <category term="http://www.opengis.net/def/crs/EPSG/{{crs.version}}/{{crs.code}}" label="{{crs.name}}"></category>
    {% endfor %}
</entry>